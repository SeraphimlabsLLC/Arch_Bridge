EESchema Schematic File Version 5
EELAYER 43 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 1 1
Title "DCC-EX Loconet Driver"
Date "2023-04-19"
Rev "04"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
Comment5 ""
Comment6 ""
Comment7 ""
Comment8 ""
Comment9 ""
$EndDescr
Connection ~ 950  1500
Connection ~ 1550 2000
Connection ~ 1550 3000
Connection ~ 1650 1500
Connection ~ 1650 2500
Connection ~ 1650 3500
Connection ~ 1750 2400
Connection ~ 1750 3100
Connection ~ 1750 3400
Connection ~ 1750 6550
Connection ~ 1750 6700
Connection ~ 1750 6800
Connection ~ 1750 7100
Connection ~ 1750 7500
Connection ~ 1850 2300
Connection ~ 1850 3200
Connection ~ 1850 3300
Connection ~ 1850 6150
Connection ~ 1850 6900
Connection ~ 1950 800 
Connection ~ 2000 3500
Connection ~ 2050 6900
Connection ~ 2050 7500
Connection ~ 2300 1100
Connection ~ 2350 3100
Connection ~ 2350 3500
Connection ~ 2450 3100
Connection ~ 2600 2300
Connection ~ 2650 6550
Connection ~ 3150 6900
Connection ~ 3150 7500
Connection ~ 3200 2000
Connection ~ 3200 6550
Connection ~ 3450 7000
Connection ~ 3450 7500
Connection ~ 3650 6900
Connection ~ 3950 6600
Connection ~ 4100 1650
Connection ~ 4450 7000
Connection ~ 4450 7400
Connection ~ 4550 7600
Connection ~ 4900 1900
Connection ~ 5650 2100
Connection ~ 7400 950 
Connection ~ 7400 1150
Connection ~ 7900 1550
Connection ~ 8450 1550
Connection ~ 8700 1050
Connection ~ 8950 1150
Connection ~ 9050 1150
Connection ~ 9050 1550
Connection ~ 9400 1050
Connection ~ 9400 1150
Connection ~ 9400 1550
Connection ~ 9800 2050
Connection ~ 9800 2150
Connection ~ 9850 1550
Connection ~ 10250 1150
Connection ~ 13250 6150
Connection ~ 13600 6150
Connection ~ 13950 6150
Connection ~ 14550 6150
Connection ~ 14550 7250
NoConn ~ 4950 5850
NoConn ~ 4950 5950
NoConn ~ 4950 6050
NoConn ~ 8550 5750
NoConn ~ 8550 5850
Wire Wire Line
	600  7400 600  7500
Wire Wire Line
	600  7500 700  7500
Wire Wire Line
	900  7500 1000 7500
Wire Wire Line
	950  1300 950  1500
Wire Wire Line
	950  1500 950  1800
Wire Wire Line
	1050 1300 950  1300
Wire Wire Line
	1050 1500 950  1500
Wire Wire Line
	1300 1100 1750 1100
Wire Wire Line
	1300 1200 1300 1100
Wire Wire Line
	1300 1600 1300 1700
Wire Wire Line
	1300 7500 1650 7500
Wire Wire Line
	1450 2000 1550 2000
Wire Wire Line
	1450 2100 1750 2100
Wire Wire Line
	1450 2200 1850 2200
Wire Wire Line
	1450 2300 1850 2300
Wire Wire Line
	1450 2400 1750 2400
Wire Wire Line
	1450 2500 1650 2500
Wire Wire Line
	1450 3000 1550 3000
Wire Wire Line
	1450 3100 1750 3100
Wire Wire Line
	1450 3200 1850 3200
Wire Wire Line
	1450 3300 1850 3300
Wire Wire Line
	1450 3400 1750 3400
Wire Wire Line
	1450 3500 1650 3500
Wire Wire Line
	1450 6700 1750 6700
Wire Wire Line
	1450 6900 1850 6900
Wire Wire Line
	1450 7100 1750 7100
Wire Wire Line
	1450 7200 1650 7200
Wire Wire Line
	1550 1800 950  1800
Wire Wire Line
	1550 1800 1550 2000
Wire Wire Line
	1550 2000 1550 3000
Wire Wire Line
	1650 1300 1550 1300
Wire Wire Line
	1650 1500 1550 1500
Wire Wire Line
	1650 1500 1650 1300
Wire Wire Line
	1650 1500 1650 2500
Wire Wire Line
	1650 2500 1650 3500
Wire Wire Line
	1650 3500 2000 3500
Wire Wire Line
	1650 7200 1650 7500
Wire Wire Line
	1750 1100 1750 1600
Wire Wire Line
	1750 2100 1750 2400
Wire Wire Line
	1750 2400 1750 3100
Wire Wire Line
	1750 3100 1750 3400
Wire Wire Line
	1750 3400 1750 6550
Wire Wire Line
	1750 6550 2350 6550
Wire Wire Line
	1750 6700 1750 6550
Wire Wire Line
	1750 6700 1750 6800
Wire Wire Line
	1750 6800 1450 6800
Wire Wire Line
	1750 7100 1750 6800
Wire Wire Line
	1750 7100 1750 7500
Wire Wire Line
	1750 7500 1750 7600
Wire Wire Line
	1850 2200 1850 2300
Wire Wire Line
	1850 2300 1850 3200
Wire Wire Line
	1850 3300 1850 3200
Wire Wire Line
	1850 6150 1850 3300
Wire Wire Line
	1850 6150 1850 6900
Wire Wire Line
	1850 6150 1950 6150
Wire Wire Line
	1850 6900 1850 7000
Wire Wire Line
	1850 6900 2050 6900
Wire Wire Line
	1850 7000 1450 7000
Wire Wire Line
	1950 750  1950 800 
Wire Wire Line
	1950 800  1950 1000
Wire Wire Line
	1950 1000 2000 1000
Wire Wire Line
	2000 3100 2350 3100
Wire Wire Line
	2000 3150 2000 3100
Wire Wire Line
	2000 3450 2000 3500
Wire Wire Line
	2000 3500 2350 3500
Wire Wire Line
	2050 800  1950 800 
Wire Wire Line
	2050 1200 2050 1250
Wire Wire Line
	2050 3000 1550 3000
Wire Wire Line
	2050 6900 2050 7000
Wire Wire Line
	2050 6900 2450 6900
Wire Wire Line
	2050 7400 2050 7500
Wire Wire Line
	2050 7500 1750 7500
Wire Wire Line
	2050 7500 3150 7500
Wire Wire Line
	2100 1200 2050 1200
Wire Wire Line
	2150 6150 2450 6150
Wire Wire Line
	2300 1000 2300 1100
Wire Wire Line
	2300 1100 2300 1200
Wire Wire Line
	2300 1600 1750 1600
Wire Wire Line
	2300 1700 1300 1700
Wire Wire Line
	2350 800  2400 800 
Wire Wire Line
	2350 3000 2450 3000
Wire Wire Line
	2350 3100 2350 3150
Wire Wire Line
	2350 3500 2350 3450
Wire Wire Line
	2400 1100 2300 1100
Wire Wire Line
	2450 3000 2450 3100
Wire Wire Line
	2450 3100 2350 3100
Wire Wire Line
	2450 7200 2350 7200
Wire Wire Line
	2500 3100 2450 3100
Wire Wire Line
	2500 3500 2350 3500
Wire Wire Line
	2550 6550 2650 6550
Wire Wire Line
	2600 800  2700 800 
Wire Wire Line
	2600 2300 2600 2200
Wire Wire Line
	2600 2400 2600 2300
Wire Wire Line
	2650 6550 2650 6450
Wire Wire Line
	2700 900  2700 800 
Wire Wire Line
	2700 1300 2700 1400
Wire Wire Line
	2700 2300 2600 2300
Wire Wire Line
	2700 2500 2700 2300
Wire Wire Line
	2700 2500 3200 2500
Wire Wire Line
	2750 6550 2650 6550
Wire Wire Line
	2750 6900 3150 6900
Wire Wire Line
	2750 7200 2950 7200
Wire Wire Line
	2900 2900 2900 2800
Wire Wire Line
	2900 3700 2900 3800
Wire Wire Line
	2950 6150 2850 6150
Wire Wire Line
	2950 7200 2950 7600
Wire Wire Line
	3050 6550 3200 6550
Wire Wire Line
	3100 1600 3300 1600
Wire Wire Line
	3100 1700 3300 1700
Wire Wire Line
	3100 1900 3200 1900
Wire Wire Line
	3100 2000 3200 2000
Wire Wire Line
	3150 6900 3650 6900
Wire Wire Line
	3150 7100 3150 6900
Wire Wire Line
	3150 7400 3150 7500
Wire Wire Line
	3150 7500 3450 7500
Wire Wire Line
	3200 1900 3200 1400
Wire Wire Line
	3200 2000 3200 2100
Wire Wire Line
	3200 2000 3300 2000
Wire Wire Line
	3200 2400 3200 2500
Wire Wire Line
	3200 6150 3150 6150
Wire Wire Line
	3200 6550 3200 6150
Wire Wire Line
	3300 1400 3300 1600
Wire Wire Line
	3300 1700 3300 1900
Wire Wire Line
	3300 2500 3300 2000
Wire Wire Line
	3300 3300 3400 3300
Wire Wire Line
	3300 6450 3300 6550
Wire Wire Line
	3300 6550 3200 6550
Wire Wire Line
	3400 1400 3300 1400
Wire Wire Line
	3400 1900 3300 1900
Wire Wire Line
	3450 6600 3450 7000
Wire Wire Line
	3450 7000 3450 7100
Wire Wire Line
	3450 7500 3450 7400
Wire Wire Line
	3450 7500 3950 7500
Wire Wire Line
	3550 6600 3450 6600
Wire Wire Line
	3550 7000 3450 7000
Wire Wire Line
	3550 7100 3550 7000
Wire Wire Line
	3650 6900 3650 7400
Wire Wire Line
	3650 6900 3750 6900
Wire Wire Line
	3750 7100 3550 7100
Wire Wire Line
	3850 6600 3950 6600
Wire Wire Line
	3950 6500 3950 6600
Wire Wire Line
	3950 6600 3950 6700
Wire Wire Line
	3950 7300 3950 7500
Wire Wire Line
	4000 1300 4200 1300
Wire Wire Line
	4000 2000 4200 2000
Wire Wire Line
	4050 7400 3650 7400
Wire Wire Line
	4100 1500 4000 1500
Wire Wire Line
	4100 1500 4100 1650
Wire Wire Line
	4100 1650 4100 1800
Wire Wire Line
	4100 1650 4800 1650
Wire Wire Line
	4100 1800 4000 1800
Wire Wire Line
	4350 7400 4450 7400
Wire Wire Line
	4450 6850 4450 7000
Wire Wire Line
	4450 7000 4350 7000
Wire Wire Line
	4450 7400 4450 7000
Wire Wire Line
	4550 7000 4550 7600
Wire Wire Line
	4550 7000 4650 7000
Wire Wire Line
	4550 7600 2950 7600
Wire Wire Line
	4650 7400 4450 7400
Wire Wire Line
	4650 7450 4650 7400
Wire Wire Line
	4650 7550 4700 7550
Wire Wire Line
	4650 7600 4550 7600
Wire Wire Line
	4650 7600 4650 7550
Wire Wire Line
	4700 7450 4650 7450
Wire Wire Line
	4800 1200 5000 1200
Wire Wire Line
	4800 1400 4900 1400
Wire Wire Line
	4800 1550 6000 1550
Wire Wire Line
	4800 1650 4800 1550
Wire Wire Line
	4800 2100 5650 2100
Wire Wire Line
	4900 1400 4900 1900
Wire Wire Line
	4900 1900 4800 1900
Wire Wire Line
	5000 1900 4900 1900
Wire Wire Line
	5200 7000 5300 7000
Wire Wire Line
	5250 7500 5850 7500
Wire Wire Line
	5550 1200 5650 1200
Wire Wire Line
	5550 1900 6100 1900
Wire Wire Line
	5650 1200 5650 2100
Wire Wire Line
	5650 2100 6200 2100
Wire Wire Line
	5850 6850 6050 6850
Wire Wire Line
	5850 7500 5850 6850
Wire Wire Line
	5900 1050 5900 1150
Wire Wire Line
	6000 1050 6000 1550
Wire Wire Line
	6050 6950 6050 6850
Wire Wire Line
	6050 7250 6050 7350
Wire Wire Line
	6050 7650 6050 7750
Wire Wire Line
	6100 1050 6100 1900
Wire Wire Line
	6200 1050 6200 2100
Wire Wire Line
	7300 950  7400 950 
Wire Wire Line
	7400 850  7400 950 
Wire Wire Line
	7400 950  7500 950 
Wire Wire Line
	7400 1150 7400 950 
Wire Wire Line
	7400 1150 7400 1250
Wire Wire Line
	7400 1450 7400 1550
Wire Wire Line
	7400 1550 7900 1550
Wire Wire Line
	7500 1150 7400 1150
Wire Wire Line
	7900 1350 7900 1550
Wire Wire Line
	7900 1550 7900 1650
Wire Wire Line
	7900 1550 8450 1550
Wire Wire Line
	8300 950  8700 950 
Wire Wire Line
	8300 1150 8950 1150
Wire Wire Line
	8400 1050 8300 1050
Wire Wire Line
	8450 1250 8450 1300
Wire Wire Line
	8450 1500 8450 1550
Wire Wire Line
	8450 1550 9050 1550
Wire Wire Line
	8550 1250 8450 1250
Wire Wire Line
	8550 3250 8700 3250
Wire Wire Line
	8550 3350 8700 3350
Wire Wire Line
	8550 3550 8900 3550
Wire Wire Line
	8550 3650 8900 3650
Wire Wire Line
	8550 3950 8900 3950
Wire Wire Line
	8550 4650 8650 4650
Wire Wire Line
	8550 4750 8650 4750
Wire Wire Line
	8550 4850 8650 4850
Wire Wire Line
	8550 4950 8650 4950
Wire Wire Line
	8550 5050 8650 5050
Wire Wire Line
	8550 5350 8650 5350
Wire Wire Line
	8550 5450 8650 5450
Wire Wire Line
	8700 950  8700 1050
Wire Wire Line
	8700 1050 8600 1050
Wire Wire Line
	8700 1050 8800 1050
Wire Wire Line
	8850 1250 8950 1250
Wire Wire Line
	8950 1150 9050 1150
Wire Wire Line
	8950 1250 8950 1150
Wire Wire Line
	9050 1150 9400 1150
Wire Wire Line
	9050 1250 9050 1150
Wire Wire Line
	9050 1450 9050 1550
Wire Wire Line
	9400 950  9400 1050
Wire Wire Line
	9400 1050 9300 1050
Wire Wire Line
	9400 1150 9400 1050
Wire Wire Line
	9400 1150 9550 1150
Wire Wire Line
	9400 1250 9400 1150
Wire Wire Line
	9400 1450 9400 1550
Wire Wire Line
	9400 1550 9050 1550
Wire Wire Line
	9700 2150 9800 2150
Wire Wire Line
	9800 1950 9800 2050
Wire Wire Line
	9800 2050 9700 2050
Wire Wire Line
	9800 2150 9800 2050
Wire Wire Line
	9800 2200 9800 2150
Wire Wire Line
	9800 2400 9800 2500
Wire Wire Line
	9850 1450 9850 1550
Wire Wire Line
	9850 1550 9400 1550
Wire Wire Line
	9850 1550 10250 1550
Wire Wire Line
	10100 2050 10250 2050
Wire Wire Line
	10100 2150 10250 2150
Wire Wire Line
	10150 1950 10150 1850
Wire Wire Line
	10150 2250 10150 2350
Wire Wire Line
	10150 2250 10250 2250
Wire Wire Line
	10250 1050 10250 1150
Wire Wire Line
	10250 1150 10150 1150
Wire Wire Line
	10250 1250 10250 1150
Wire Wire Line
	10250 1450 10250 1550
Wire Wire Line
	10250 1950 10150 1950
Wire Wire Line
	10350 2800 10350 2900
Wire Wire Line
	10350 2900 10150 2900
Wire Wire Line
	12900 6150 13250 6150
Wire Wire Line
	13250 6150 13600 6150
Wire Wire Line
	13600 6150 13950 6150
Wire Wire Line
	13950 6150 13950 6200
Wire Wire Line
	13950 6150 14550 6150
Wire Wire Line
	13950 7250 13950 7200
Wire Wire Line
	14550 6100 14550 6150
Wire Wire Line
	14550 6150 14550 6200
Wire Wire Line
	14550 7200 14550 7250
Wire Wire Line
	14550 7250 13950 7250
Wire Wire Line
	14550 7250 14550 7300
Text Notes 1850 6250 0    50   ~ 0
Loconet Master\n
Text Notes 5100 5800 0    50   ~ 0
Bootstrap pins: \nGPIO0  0 = download boot, 1 = spi boot\nGPIO3  0 = JTAG internal, 1 = JTAG EXT\nGPIO45 0 = SPI 3.3v, 1 = SPI 1.8v\nGPIO46 0 = normal, 1 is invalid\nGPIO35, 36, and 37 are reserved for\ninternal SPI flash\n
Text Notes 5950 850  1    50   ~ 0
GND
Text Notes 6050 850  1    50   ~ 0
ENABLE\n
Text Notes 6150 850  1    50   ~ 0
BRAKE
Text Notes 6250 850  1    50   ~ 0
DCC
Text Notes 6350 2050 0    50   ~ 0
TCBROUTEA = 0b 00001000\nTCB2 on PC0\nTCB3 on PC1
Text Notes 6350 7150 0    50   ~ 0
 DCC input waveform validation or generation own using TCB2
Text Notes 6400 6850 0    50   ~ 0
Loconet T 12v 500mA DC power for throttles
Text Notes 6400 6950 0    50   ~ 0
Loconet B1 and B2 has 200mA Railsync signal when used with DCC-EX or similar input
Text Notes 6400 7050 0    50   ~ 0
Can read Railsync signal input on Loconet B using TCB3\n
Text Notes 6400 7250 0    50   ~ 0
Serial IO to DCC-EX on USART0
Text Notes 6400 7350 0    50   ~ 0
657-15ABPEN Heatsink required on Q3 and Q4. \n
Text Label 950  1800 0    50   ~ 0
LN_6
Text Label 1350 7500 0    50   ~ 0
T_PWR
Text Label 1650 1800 0    50   ~ 0
LN_1
Text Label 1850 1600 0    50   ~ 0
OUT1
Text Label 1850 1700 0    50   ~ 0
OUT2
Text Label 3300 2500 0    50   ~ 0
C_SENSE
Text Label 3400 3300 0    50   ~ 0
RSYNC_IN
Text Label 4450 6850 0    50   ~ 0
LN_RX
Text Label 5300 7000 0    50   ~ 0
LN_TX
Text Label 5350 7500 0    50   ~ 0
LN_COLL
Text Label 6000 1550 2    50   ~ 0
ENABLE
Text Label 6100 1900 2    50   ~ 0
BRAKE
Text Label 6200 2100 2    50   ~ 0
DCC
Text Label 8600 2550 0    50   ~ 0
RESET
Text Label 8650 4650 0    50   ~ 0
LN_COLL
Text Label 8650 4750 0    50   ~ 0
RSYNC_IN
Text Label 8650 4850 0    50   ~ 0
DCC
Text Label 8650 4950 0    50   ~ 0
BRAKE
Text Label 8650 5050 0    50   ~ 0
ENABLE
Text Label 8650 5350 0    50   ~ 0
LN_TX
Text Label 8650 5450 0    50   ~ 0
LN_RX
Text Label 8700 3250 2    50   ~ 0
TXD
Text Label 8700 3350 2    50   ~ 0
RXD
Text Label 8900 3550 2    50   ~ 0
USB_D+
Text Label 8900 3650 2    50   ~ 0
USB_D-
Text Label 8900 3950 2    50   ~ 0
C_SENSE
Text Label 10100 2050 0    50   ~ 0
RXD
Text Label 10100 2150 0    50   ~ 0
TXD
Text GLabel 7300 950  0    50   Input ~ 0
VIN
$Comp
L power:+12V #PWR0110
U 1 1 65473434
P 600 7400
F 0 "#PWR0110" H 600 7250 50  0001 C CNN
F 1 "+12V" H 615 7573 50  0000 C CNN
F 2 "" H 600 7400 50  0001 C CNN
F 3 "" H 600 7400 50  0001 C CNN
	1    600  7400
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR0121
U 1 1 653AB3CA
P 1950 750
F 0 "#PWR0121" H 1950 600 50  0001 C CNN
F 1 "+12V" H 1965 923 50  0000 C CNN
F 2 "" H 1950 750 50  0001 C CNN
F 3 "" H 1950 750 50  0001 C CNN
	1    1950 750 
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR05
U 1 1 00000000
P 2900 2800
AR Path="/00000000" Ref="#PWR05"  Part="1" 
AR Path="/00000000" Ref="#PWR03"  Part="1" 
F 0 "#PWR05" H 2900 2650 50  0001 C CNN
F 1 "+3.3V" H 2900 3000 50  0000 C CNN
F 2 "" H 2900 2800 50  0001 C CNN
F 3 "" H 2900 2800 50  0001 C CNN
	1    2900 2800
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0129
U 1 1 646FE7CD
P 3200 1400
F 0 "#PWR0129" H 3200 1250 50  0001 C CNN
F 1 "+5V" H 3215 1573 50  0000 C CNN
F 2 "" H 3200 1400 50  0001 C CNN
F 3 "" H 3200 1400 50  0001 C CNN
	1    3200 1400
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR0105
U 1 1 655187C9
P 3300 6450
F 0 "#PWR0105" H 3300 6300 50  0001 C CNN
F 1 "+12V" H 3315 6623 50  0000 C CNN
F 2 "" H 3300 6450 50  0001 C CNN
F 3 "" H 3300 6450 50  0001 C CNN
	1    3300 6450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0111
U 1 1 65211E18
P 3950 6500
F 0 "#PWR0111" H 3950 6350 50  0001 C CNN
F 1 "+5V" H 3965 6673 50  0000 C CNN
F 2 "" H 3950 6500 50  0001 C CNN
F 3 "" H 3950 6500 50  0001 C CNN
	1    3950 6500
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR04
U 1 1 00000000
P 7400 850
F 0 "#PWR04" H 7400 700 50  0001 C CNN
F 1 "+12V" H 7400 1050 50  0000 C CNN
F 2 "" H 7400 850 50  0001 C CNN
F 3 "" H 7400 850 50  0001 C CNN
	1    7400 850 
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR01
U 1 1 00000000
P 9400 950
AR Path="/00000000" Ref="#PWR01"  Part="1" 
AR Path="/00000000" Ref="#PWR02"  Part="1" 
F 0 "#PWR02" H 9400 800 50  0001 C CNN
F 1 "+5V" H 9400 1150 50  0000 C CNN
F 2 "" H 9400 950 50  0001 C CNN
F 3 "" H 9400 950 50  0001 C CNN
	1    9400 950 
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0103
U 1 1 64ED6D92
P 9800 1950
F 0 "#PWR0103" H 9800 1800 50  0001 C CNN
F 1 "+5V" H 9815 2123 50  0000 C CNN
F 2 "" H 9800 1950 50  0001 C CNN
F 3 "" H 9800 1950 50  0001 C CNN
	1    9800 1950
	-1   0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0116
U 1 1 6656C451
P 10150 1850
F 0 "#PWR0116" H 10150 1700 50  0001 C CNN
F 1 "+5V" H 10165 2023 50  0000 C CNN
F 2 "" H 10150 1850 50  0001 C CNN
F 3 "" H 10150 1850 50  0001 C CNN
	1    10150 1850
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR03
U 1 1 00000000
P 10250 1050
AR Path="/00000000" Ref="#PWR03"  Part="1" 
AR Path="/00000000" Ref="#PWR03"  Part="1" 
F 0 "#PWR03" H 10250 900 50  0001 C CNN
F 1 "+3.3V" H 10250 1250 50  0000 C CNN
F 2 "" H 10250 1050 50  0001 C CNN
F 3 "" H 10250 1050 50  0001 C CNN
	1    10250 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0117
U 1 1 6656DADB
P 10350 2800
F 0 "#PWR0117" H 10350 2650 50  0001 C CNN
F 1 "+5V" H 10365 2973 50  0000 C CNN
F 2 "" H 10350 2800 50  0001 C CNN
F 3 "" H 10350 2800 50  0001 C CNN
	1    10350 2800
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0101
U 1 1 64447681
P 14550 6100
F 0 "#PWR0101" H 14550 5950 50  0001 C CNN
F 1 "+5V" H 14565 6273 50  0000 C CNN
F 2 "" H 14550 6100 50  0001 C CNN
F 3 "" H 14550 6100 50  0001 C CNN
	1    14550 6100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0123
U 1 1 6433A5BA
P 1750 7600
F 0 "#PWR0123" H 1750 7350 50  0001 C CNN
F 1 "GND" H 1755 7427 50  0000 C CNN
F 2 "" H 1750 7600 50  0001 C CNN
F 3 "" H 1750 7600 50  0001 C CNN
	1    1750 7600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0122
U 1 1 65235D65
P 2050 1250
F 0 "#PWR0122" H 2050 1000 50  0001 C CNN
F 1 "GND" H 1950 1200 50  0000 C CNN
F 2 "" H 2050 1250 50  0001 C CNN
F 3 "" H 2050 1250 50  0001 C CNN
	1    2050 1250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0120
U 1 1 6596F2BE
P 2600 2400
F 0 "#PWR0120" H 2600 2150 50  0001 C CNN
F 1 "GND" H 2605 2227 50  0000 C CNN
F 2 "" H 2600 2400 50  0001 C CNN
F 3 "" H 2600 2400 50  0001 C CNN
	1    2600 2400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0118
U 1 1 646D717A
P 2900 3800
F 0 "#PWR0118" H 2900 3550 50  0001 C CNN
F 1 "GND" H 2905 3627 50  0000 C CNN
F 2 "" H 2900 3800 50  0001 C CNN
F 3 "" H 2900 3800 50  0001 C CNN
	1    2900 3800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0109
U 1 1 6512FF7C
P 5900 1150
F 0 "#PWR0109" H 5900 900 50  0001 C CNN
F 1 "GND" H 5905 977 50  0000 C CNN
F 2 "" H 5900 1150 50  0001 C CNN
F 3 "" H 5900 1150 50  0001 C CNN
	1    5900 1150
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0113
U 1 1 64547CFE
P 6050 7750
F 0 "#PWR0113" H 6050 7500 50  0001 C CNN
F 1 "GND" H 6055 7577 50  0000 C CNN
F 2 "" H 6050 7750 50  0001 C CNN
F 3 "" H 6050 7750 50  0001 C CNN
	1    6050 7750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR013
U 1 1 00000000
P 7900 1650
AR Path="/00000000" Ref="#PWR013"  Part="1" 
AR Path="/00000000/00000000" Ref="#PWR013"  Part="1" 
AR Path="/00000000" Ref="#PWR01"  Part="1" 
F 0 "#PWR01" H 7900 1400 50  0001 C CNN
F 1 "GND" H 7905 1477 50  0000 C CNN
F 2 "" H 7900 1650 50  0001 C CNN
F 3 "" H 7900 1650 50  0001 C CNN
	1    7900 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 64EFCB86
P 9250 2300
F 0 "#PWR0104" H 9250 2050 50  0001 C CNN
F 1 "GND" H 9255 2127 50  0000 C CNN
F 2 "" H 9250 2300 50  0001 C CNN
F 3 "" H 9250 2300 50  0001 C CNN
	1    9250 2300
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0106
U 1 1 6571B582
P 9800 2500
F 0 "#PWR0106" H 9800 2250 50  0001 C CNN
F 1 "GND" H 9805 2327 50  0000 C CNN
F 2 "" H 9800 2500 50  0001 C CNN
F 3 "" H 9800 2500 50  0001 C CNN
	1    9800 2500
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0114
U 1 1 66503446
P 10150 2350
F 0 "#PWR0114" H 10150 2100 50  0001 C CNN
F 1 "GND" H 10155 2177 50  0000 C CNN
F 2 "" H 10150 2350 50  0001 C CNN
F 3 "" H 10150 2350 50  0001 C CNN
	1    10150 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0112
U 1 1 662BC8A1
P 12900 6350
F 0 "#PWR0112" H 12900 6100 50  0001 C CNN
F 1 "GND" H 12905 6177 50  0000 C CNN
F 2 "" H 12900 6350 50  0001 C CNN
F 3 "" H 12900 6350 50  0001 C CNN
	1    12900 6350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 6573DBD4
P 13250 6350
F 0 "#PWR0107" H 13250 6100 50  0001 C CNN
F 1 "GND" H 13255 6177 50  0000 C CNN
F 2 "" H 13250 6350 50  0001 C CNN
F 3 "" H 13250 6350 50  0001 C CNN
	1    13250 6350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0108
U 1 1 6573EE38
P 13600 6350
F 0 "#PWR0108" H 13600 6100 50  0001 C CNN
F 1 "GND" H 13605 6177 50  0000 C CNN
F 2 "" H 13600 6350 50  0001 C CNN
F 3 "" H 13600 6350 50  0001 C CNN
	1    13600 6350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0102
U 1 1 644567F7
P 14550 7300
F 0 "#PWR0102" H 14550 7050 50  0001 C CNN
F 1 "GND" H 14555 7127 50  0000 C CNN
F 2 "" H 14550 7300 50  0001 C CNN
F 3 "" H 14550 7300 50  0001 C CNN
	1    14550 7300
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Jumper_NC_Small-Device JP3
U 1 1 6567CBD3
P 2050 6150
F 0 "JP3" H 2050 6250 50  0000 R CNN
F 1 "Jumper_NC_Small" V 2005 6103 50  0001 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x02_P2.54mm_Vertical" H 2050 6150 50  0001 C CNN
F 3 "~" H 2050 6150 50  0001 C CNN
	1    2050 6150
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R2
U 1 1 65473FEE
P 800 7500
F 0 "R2" V 600 7500 50  0000 C CNN
F 1 "16 5w" V 700 7500 50  0000 C CNN
F 2 "Resistor_THT:R_Radial_Power_L13.0mm_W9.0mm_P5.00mm" H 800 7500 50  0001 C CNN
F 3 "~" H 800 7500 50  0001 C CNN
	1    800  7500
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R3
U 1 1 651EA318
P 2200 1200
F 0 "R3" V 2300 1150 50  0000 L CNN
F 1 "3.3k" V 2100 1100 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 2200 1200 50  0001 C CNN
F 3 "~" H 2200 1200 50  0001 C CNN
	1    2200 1200
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R5
U 1 1 65519337
P 2450 6550
F 0 "R5" V 2550 6500 50  0000 L CNN
F 1 "47k" V 2350 6450 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 2450 6550 50  0001 C CNN
F 3 "~" H 2450 6550 50  0001 C CNN
	1    2450 6550
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R6
U 1 1 651E9192
P 2500 800
F 0 "R6" V 2304 800 50  0000 C CNN
F 1 "25" V 2395 800 50  0000 C CNN
F 2 "Resistor_THT:R_Axial_DIN0414_L11.9mm_D4.5mm_P7.62mm_Vertical" H 2500 800 50  0001 C CNN
F 3 "~" H 2500 800 50  0001 C CNN
	1    2500 800 
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R9
U 1 1 6551932D
P 3050 6150
F 0 "R9" V 2854 6150 50  0000 C CNN
F 1 "330" V 2945 6150 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 3050 6150 50  0001 C CNN
F 3 "~" H 3050 6150 50  0001 C CNN
	1    3050 6150
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R2
U 1 1 00000000
P 8450 1400
AR Path="/00000000" Ref="R2"  Part="1" 
AR Path="/00000000/00000000" Ref="R2"  Part="1" 
AR Path="/00000000" Ref="R17"  Part="1" 
F 0 "R17" H 8509 1446 50  0000 L CNN
F 1 "1k" H 8509 1355 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 8450 1400 50  0001 C CNN
F 3 "~" H 8450 1400 50  0001 C CNN
F 4 "Bourns" H 8450 1400 50  0001 C CNN "MFG"
F 5 "CR1206-FX-1001ELF" H 8450 1400 50  0001 C CNN "PN"
	1    8450 1400
	-1   0    0    1   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:LM393-Comparator U6
U 3 1 6475AC96
P 4050 7000
F 0 "U6" H 4200 7350 50  0000 L CNN
F 1 "LM393" H 4100 6850 50  0000 L CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 4050 7000 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm393.pdf" H 4050 7000 50  0001 C CNN
	3    4050 7000
	1    0    0    -1  
$EndComp
$Comp
L Motor~Shield~Adapter-rescue:CP1_Small-Device C2
U 1 1 00000000
P 7400 1350
AR Path="/00000000" Ref="C2"  Part="1" 
AR Path="/00000000/00000000" Ref="C2"  Part="1" 
AR Path="/00000000" Ref="C10"  Part="1" 
F 0 "C10" H 7491 1396 50  0000 L CNN
F 1 "22uF" H 7491 1305 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_5x5.3" H 7400 1350 50  0001 C CNN
F 3 "~" H 7400 1350 50  0001 C CNN
F 4 "Wurth Electronik" H 7400 1350 50  0001 C CNN "MFG"
F 5 "865080542006" H 7400 1350 50  0001 C CNN "PN"
	1    7400 1350
	1    0    0    -1  
$EndComp
$Comp
L Motor~Shield~Adapter-rescue:CP1_Small-Device C4
U 1 1 00000000
P 9050 1350
AR Path="/00000000" Ref="C4"  Part="1" 
AR Path="/00000000/00000000" Ref="C4"  Part="1" 
AR Path="/00000000" Ref="C12"  Part="1" 
F 0 "C12" H 9141 1396 50  0000 L CNN
F 1 "22uF" H 9141 1305 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_5x5.3" H 9050 1350 50  0001 C CNN
F 3 "~" H 9050 1350 50  0001 C CNN
F 4 "Wurth Electronik" H 9050 1350 50  0001 C CNN "MFG"
F 5 "865080542006" H 9050 1350 50  0001 C CNN "PN"
	1    9050 1350
	1    0    0    -1  
$EndComp
$Comp
L Motor~Shield~Adapter-rescue:CP1_Small-Device C5
U 1 1 00000000
P 9400 1350
AR Path="/00000000" Ref="C5"  Part="1" 
AR Path="/00000000/00000000" Ref="C5"  Part="1" 
AR Path="/00000000" Ref="C13"  Part="1" 
F 0 "C13" H 9491 1396 50  0000 L CNN
F 1 "22uF" H 9491 1305 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_5x5.3" H 9400 1350 50  0001 C CNN
F 3 "~" H 9400 1350 50  0001 C CNN
F 4 "Wurth Electronik" H 9400 1350 50  0001 C CNN "MFG"
F 5 "865080542006" H 9400 1350 50  0001 C CNN "PN"
	1    9400 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Polarized_Small_US C6
U 1 1 00000000
P 10250 1350
AR Path="/00000000" Ref="C6"  Part="1" 
AR Path="/00000000/00000000" Ref="C11"  Part="1" 
AR Path="/00000000" Ref="C14"  Part="1" 
F 0 "C14" H 10350 1400 50  0000 L CNN
F 1 "22uF" H 10350 1300 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_5x5.3" H 10250 1350 50  0001 C CNN
F 3 "~" H 10250 1350 50  0001 C CNN
F 4 "Wurth Electronik" H 10250 1350 50  0001 C CNN "MFG"
F 5 "865080542006" H 10250 1350 50  0001 C CNN "PN"
	1    10250 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 00000000
P 8500 1050
AR Path="/00000000" Ref="C3"  Part="1" 
AR Path="/00000000/00000000" Ref="C3"  Part="1" 
AR Path="/00000000" Ref="C11"  Part="1" 
F 0 "C11" V 8729 1050 50  0000 C CNN
F 1 "0.1uF" V 8638 1050 50  0000 C CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 8500 1050 50  0001 C CNN
F 3 "~" H 8500 1050 50  0001 C CNN
F 4 "KEMET" H 8500 1050 50  0001 C CNN "MFG"
F 5 "C1206C104K5RAC7210" H 8500 1050 50  0001 C CNN "PN"
	1    8500 1050
	0    -1   -1   0   
$EndComp
$Comp
L Device:C_Small C6
U 1 1 656DED3B
P 9800 2300
F 0 "C6" H 9892 2346 50  0000 L CNN
F 1 "0.1uf" H 9892 2255 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 9800 2300 50  0001 C CNN
F 3 "~" H 9800 2300 50  0001 C CNN
	1    9800 2300
	-1   0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 662BBC91
P 12900 6250
F 0 "C7" H 12992 6296 50  0000 L CNN
F 1 "0.1uF" H 12992 6205 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 12900 6250 50  0001 C CNN
F 3 "~" H 12900 6250 50  0001 C CNN
	1    12900 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C8
U 1 1 6571EB35
P 13250 6250
F 0 "C8" H 13342 6296 50  0000 L CNN
F 1 "0.1uF" H 13342 6205 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 13250 6250 50  0001 C CNN
F 3 "~" H 13250 6250 50  0001 C CNN
	1    13250 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C9
U 1 1 6571D772
P 13600 6250
F 0 "C9" H 13692 6296 50  0000 L CNN
F 1 "0.1uF" H 13692 6205 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 13600 6250 50  0001 C CNN
F 3 "~" H 13600 6250 50  0001 C CNN
	1    13600 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R4
U 1 1 6410D04C
P 2200 3000
F 0 "R4" V 1993 3000 50  0000 C CNN
F 1 "3k" V 2084 3000 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 2130 3000 50  0001 C CNN
F 3 "~" H 2200 3000 50  0001 C CNN
	1    2200 3000
	0    1    1    0   
$EndComp
$Comp
L Device:R R7
U 1 1 641C1E1D
P 2600 6900
F 0 "R7" H 2450 6850 50  0000 L CNN
F 1 "47k" H 2400 6950 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 2530 6900 50  0001 C CNN
F 3 "~" H 2600 6900 50  0001 C CNN
	1    2600 6900
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R8
U 1 1 64228F84
P 2600 7200
F 0 "R8" V 2393 7200 50  0000 C CNN
F 1 "4.7k" V 2484 7200 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 2530 7200 50  0001 C CNN
F 3 "~" H 2600 7200 50  0001 C CNN
	1    2600 7200
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R10
U 1 1 641C0BC7
P 3150 7250
F 0 "R10" H 3200 7200 50  0000 L CNN
F 1 "150k" H 3150 7100 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 3080 7250 50  0001 C CNN
F 3 "~" H 3150 7250 50  0001 C CNN
	1    3150 7250
	-1   0    0    1   
$EndComp
$Comp
L Device:R R11
U 1 1 6472C796
P 3200 2250
F 0 "R11" H 3000 2300 50  0000 L CNN
F 1 "15k 1%" H 2850 2200 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 3130 2250 50  0001 C CNN
F 3 "~" H 3200 2250 50  0001 C CNN
	1    3200 2250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R12
U 1 1 641E65A6
P 3450 7250
F 0 "R12" H 3520 7296 50  0000 L CNN
F 1 "22k" H 3520 7205 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 3380 7250 50  0001 C CNN
F 3 "~" H 3450 7250 50  0001 C CNN
	1    3450 7250
	-1   0    0    1   
$EndComp
$Comp
L Device:R R13
U 1 1 641E5E31
P 3700 6600
F 0 "R13" V 3600 6500 50  0000 L CNN
F 1 "10k" V 3700 6500 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 3630 6600 50  0001 C CNN
F 3 "~" H 3700 6600 50  0001 C CNN
	1    3700 6600
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R14
U 1 1 641F76B1
P 4200 7400
F 0 "R14" V 4100 7300 50  0000 L CNN
F 1 "220k" V 4200 7300 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 4130 7400 50  0001 C CNN
F 3 "~" H 4200 7400 50  0001 C CNN
	1    4200 7400
	0    1    1    0   
$EndComp
$Comp
L Device:R R15
U 1 1 64537E5C
P 6050 7500
F 0 "R15" H 6120 7546 50  0000 L CNN
F 1 "1k" H 6120 7455 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 5980 7500 50  0001 C CNN
F 3 "~" H 6050 7500 50  0001 C CNN
	1    6050 7500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R16
U 1 1 665BBC5D
P 10000 2900
F 0 "R16" V 10000 2800 50  0000 L CNN
F 1 "10k" V 10100 2800 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 9930 2900 50  0001 C CNN
F 3 "~" H 10000 2900 50  0001 C CNN
	1    10000 2900
	0    1    1    0   
$EndComp
$Comp
L Motor~Shield~Adapter-rescue:INDUCTOR-pspice L1
U 1 1 00000000
P 9050 1050
AR Path="/00000000" Ref="L1"  Part="1" 
AR Path="/00000000/00000000" Ref="L2"  Part="1" 
AR Path="/00000000" Ref="L2"  Part="1" 
F 0 "L2" H 9050 1265 50  0000 C CNN
F 1 "4.7uH" H 9050 1174 50  0000 C CNN
F 2 "Inductor_SMD:L_1008_2520Metric_Pad1.43x2.20mm_HandSolder" H 9050 1050 50  0001 C CNN
F 3 "https://www.mouser.com/datasheet/2/281/1/JELF243B_0025-1634213.pdf" H 9050 1050 50  0001 C CNN
F 4 "Murata Electronics" H 9050 1050 50  0001 C CNN "MFG"
F 5 "LQM2HPN4R7MGCL " H 9050 1050 50  0001 C CNN "PN"
	1    9050 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:D_Zener D3
U 1 1 651EB805
P 2150 1000
F 0 "D3" H 2000 950 50  0000 C CNN
F 1 "1N5233B" H 2150 1050 50  0000 C CNN
F 2 "Diode_THT:D_DO-35_SOD27_P7.62mm_Horizontal" H 2150 1000 50  0001 C CNN
F 3 "~" H 2150 1000 50  0001 C CNN
	1    2150 1000
	1    0    0    -1  
$EndComp
$Comp
L Device:D_Zener D5
U 1 1 65519341
P 2900 6550
F 0 "D5" H 2900 6450 50  0000 C CNN
F 1 "1N5233B" H 2950 6650 50  0000 C CNN
F 2 "Diode_THT:D_DO-35_SOD27_P7.62mm_Horizontal" H 2900 6550 50  0001 C CNN
F 3 "~" H 2900 6550 50  0001 C CNN
	1    2900 6550
	-1   0    0    1   
$EndComp
$Comp
L Device:Polyfuse F1
U 1 1 6516A756
P 1150 7500
F 0 "F1" V 1350 7500 50  0000 C CNN
F 1 "500mA" V 1250 7500 50  0000 C CNN
F 2 "Fuse:Fuse_1206_3216Metric" H 1200 7300 50  0001 L CNN
F 3 "~" H 1150 7500 50  0001 C CNN
	1    1150 7500
	0    1    1    0   
$EndComp
$Comp
L Device:Polyfuse F2
U 1 1 651695DA
P 2200 800
F 0 "F2" V 1975 800 50  0000 C CNN
F 1 "200mA" V 2066 800 50  0000 C CNN
F 2 "Fuse:Fuse_1206_3216Metric" H 2250 600 50  0001 L CNN
F 3 "~" H 2200 800 50  0001 C CNN
	1    2200 800 
	0    1    1    0   
$EndComp
$Comp
L Device:LED D4
U 1 1 6410DA57
P 2350 3300
F 0 "D4" V 2297 3380 50  0000 L CNN
F 1 "LED" V 2388 3380 50  0000 L CNN
F 2 "LED_THT:LED_D3.0mm" H 2350 3300 50  0001 C CNN
F 3 "~" H 2350 3300 50  0001 C CNN
	1    2350 3300
	0    1    1    0   
$EndComp
$Comp
L Device:LED D6
U 1 1 64528085
P 6050 7100
F 0 "D6" H 6050 7000 50  0000 C CNN
F 1 "LED" H 6050 6900 50  0000 C CNN
F 2 "LED_THT:LED_D3.0mm" H 6050 7100 50  0001 C CNN
F 3 "~" H 6050 7100 50  0001 C CNN
	1    6050 7100
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED D1
U 1 1 00000000
P 8700 1250
AR Path="/00000000" Ref="D1"  Part="1" 
AR Path="/00000000/00000000" Ref="D2"  Part="1" 
AR Path="/00000000" Ref="D7"  Part="1" 
F 0 "D7" V 8739 1132 50  0000 R CNN
F 1 "LED" V 8648 1132 50  0000 R CNN
F 2 "LED_SMD:LED_1206_3216Metric" H 8700 1250 50  0001 C CNN
F 3 "https://www.mouser.com/datasheet/2/445/156120RS75300-1715573.pdf" H 8700 1250 50  0001 C CNN
F 4 "156120RS75300" H 8700 1250 50  0001 C CNN "PN"
	1    8700 1250
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 6410F9C5
P 2000 3300
F 0 "C5" H 2050 3400 50  0000 L CNN
F 1 "330pF" H 2050 3200 50  0000 L CNN
F 2 "Capacitor_SMD:C_1206_3216Metric" H 2038 3150 50  0001 C CNN
F 3 "~" H 2000 3300 50  0001 C CNN
	1    2000 3300
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Conn_01x04_Female-Connector DCC_IN1
U 1 1 64F0EC27
P 6000 850
F 0 "DCC_IN1" H 5800 1050 50  0000 L CNN
F 1 "Conn_01x04_Female" H 5700 600 50  0001 L CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x04_P2.54mm_Vertical" H 6000 850 50  0001 C CNN
F 3 "~" H 6000 850 50  0001 C CNN
	1    6000 850 
	0    -1   -1   0   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Conn_01x04_Female-Connector TTY1
U 1 1 643E1AE6
P 10450 2050
F 0 "TTY1" H 10250 2250 50  0000 C CNN
F 1 "Conn_01x04_Female" H 10342 2244 50  0001 C CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x04_P2.54mm_Vertical" H 10450 2050 50  0001 C CNN
F 3 "~" H 10450 2050 50  0001 C CNN
	1    10450 2050
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Jumper_NC_Dual-Device JP1
U 1 1 644A27BF
P 1300 1300
F 0 "JP1" H 1150 1200 50  0000 C CNN
F 1 "Jumper_NC_Dual" H 1300 1448 50  0001 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical" H 1300 1300 50  0001 C CNN
F 3 "~" H 1300 1300 50  0001 C CNN
	1    1300 1300
	-1   0    0    1   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Jumper_NC_Dual-Device JP2
U 1 1 644A5AF1
P 1300 1500
F 0 "JP2" H 1450 1400 50  0000 C CNN
F 1 "Jumper_NC_Dual" H 1300 1738 50  0001 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical" H 1300 1500 50  0001 C CNN
F 3 "~" H 1300 1500 50  0001 C CNN
	1    1300 1500
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Conn_01x06_Female-Connector J1
U 1 1 67DBC733
P 8250 2200
F 0 "J1" V 8200 1800 50  0000 L CNN
F 1 "Conn_01x06_Female" V 8350 1700 50  0000 L CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x06_P2.54mm_Vertical" H 8250 2200 50  0001 C CNN
F 3 "~" H 8250 2200 50  0001 C CNN
	1    8250 2200
	0    1    1    0   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:Conn_01x06_Female-Connector J2
U 1 1 67DBA739
P 8950 1850
F 0 "J2" V 8888 1462 50  0000 R CNN
F 1 "Conn_01x06_Female" V 8797 1462 50  0000 R CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x06_P2.54mm_Vertical" H 8950 1850 50  0001 C CNN
F 3 "~" H 8950 1850 50  0001 C CNN
	1    8950 1850
	0    -1   -1   0   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:74AHC1G04-74xGxx U7
U 1 1 653111F2
P 4900 7000
F 0 "U7" H 4875 7267 50  0000 C CNN
F 1 "74AHC1G04" H 4875 7176 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5_HandSoldering" H 4900 7000 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 4900 7000 50  0001 C CNN
	1    4900 7000
	-1   0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:74AHCT1G02-74xGxx U8
U 1 1 652A28F4
P 5000 7500
F 0 "U8" H 4975 7767 50  0000 C CNN
F 1 "74AHCT1G02" H 4975 7676 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5_HandSoldering" H 5000 7500 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 5000 7500 50  0001 C CNN
	1    5000 7500
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:74AHC1G04-74xGxx U9
U 1 1 652DB6FE
P 5250 1200
F 0 "U9" H 5225 933 50  0000 C CNN
F 1 "74AHC1G04" H 5225 1024 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5_HandSoldering" H 5250 1200 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 5250 1200 50  0001 C CNN
	1    5250 1200
	-1   0    0    1   
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:74AHC1G04-74xGxx U10
U 1 1 652DDE94
P 5250 1900
F 0 "U10" H 5225 1633 50  0000 C CNN
F 1 "74AHC1G04" H 5225 1724 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5_HandSoldering" H 5250 1900 50  0001 C CNN
F 3 "http://www.ti.com/lit/sg/scyt129e/scyt129e.pdf" H 5250 1900 50  0001 C CNN
	1    5250 1900
	-1   0    0    1   
$EndComp
$Comp
L Transistor_BJT:2N3904 Q1
U 1 1 6421EB60
P 2150 7200
F 0 "Q1" V 2100 7350 50  0000 C CNN
F 1 "2N3904" V 2350 7200 50  0000 C CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 2350 7125 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3903-D.PDF" H 2150 7200 50  0001 L CNN
	1    2150 7200
	-1   0    0    -1  
$EndComp
$Comp
L Transistor_BJT:TIP2955 Q2
U 1 1 651B4565
P 2600 1100
F 0 "Q2" H 2450 1200 50  0000 L CNN
F 1 "MJE2955" V 2800 950 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 2800 1025 50  0001 L CIN
F 3 "http://www.onsemi.com/pub_link/Collateral/TIP3055-D.PDF" H 2600 1100 50  0001 L CNN
	1    2600 1100
	1    0    0    -1  
$EndComp
$Comp
L Transistor_BJT:TIP2955 Q3
U 1 1 65519323
P 2650 6250
F 0 "Q3" V 2950 6200 50  0000 L CNN
F 1 "MJE2955" V 2850 6100 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 2850 6175 50  0001 L CIN
F 3 "http://www.onsemi.com/pub_link/Collateral/TIP3055-D.PDF" H 2650 6250 50  0001 L CNN
	1    2650 6250
	0    1    -1   0   
$EndComp
$Comp
L 74xx:74LS00 U5
U 1 1 64FA6C02
P 3700 1400
F 0 "U5" H 3650 1500 50  0000 C CNN
F 1 "74LS00" H 3700 1400 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 3700 1400 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls00" H 3700 1400 50  0001 C CNN
	1    3700 1400
	-1   0    0    -1  
$EndComp
$Comp
L 74xx:74LS00 U5
U 2 1 64FA89A9
P 3700 1900
F 0 "U5" H 3650 2000 50  0000 C CNN
F 1 "74LS00" H 3700 1900 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 3700 1900 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls00" H 3700 1900 50  0001 C CNN
	2    3700 1900
	-1   0    0    -1  
$EndComp
$Comp
L 74xx:74LS00 U5
U 3 1 64FAABF9
P 4500 1300
F 0 "U5" H 4450 1400 50  0000 C CNN
F 1 "74LS00" H 4500 1300 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 4500 1300 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls00" H 4500 1300 50  0001 C CNN
	3    4500 1300
	-1   0    0    -1  
$EndComp
$Comp
L 74xx:74LS00 U5
U 4 1 64FACFC8
P 4500 2000
F 0 "U5" H 4450 2100 50  0000 C CNN
F 1 "74LS00" H 4500 2000 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 4500 2000 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls00" H 4500 2000 50  0001 C CNN
	4    4500 2000
	-1   0    0    -1  
$EndComp
$Comp
L Regulator_Linear:NCP1117-3.3_SOT223 U11
U 1 1 00000000
P 9850 1150
AR Path="/00000000" Ref="U11"  Part="1" 
AR Path="/00000000" Ref="U13"  Part="1" 
F 0 "U13" H 9850 1400 50  0000 C CNN
F 1 "NCP1117-3.3_SOT223" H 9850 1300 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 9850 1350 50  0001 C CNN
F 3 "http://www.onsemi.com/pub_link/Collateral/NCP1117-D.PDF" H 9950 900 50  0001 C CNN
F 4 "ONSemi" H 9850 1150 50  0001 C CNN "MFG"
F 5 "NCP1117ST33T3G" H 9850 1150 50  0001 C CNN "PN"
	1    9850 1150
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:LM393-Comparator U6
U 1 1 64759ECF
P 4050 7000
F 0 "U6" H 4100 7350 50  0000 C CNN
F 1 "LM393" H 4200 7250 50  0000 C CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 4050 7000 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm393.pdf" H 4050 7000 50  0001 C CNN
	1    4050 7000
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Switching:AP63205WU U1
U 1 1 00000000
P 7900 1050
AR Path="/00000000" Ref="U1"  Part="1" 
AR Path="/00000000/00000000" Ref="U1"  Part="1" 
AR Path="/00000000" Ref="U12"  Part="1" 
F 0 "U12" H 7900 1200 50  0000 C CNN
F 1 "AP63205WU" H 7900 1300 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TSOT-23-6" H 7900 150 50  0001 C CNN
F 3 "https://www.mouser.com/datasheet/2/115/DIOD_S_A0007089856_1-2542907.pdf" H 7900 1050 50  0001 C CNN
F 4 "Diodes Incorporated" H 7900 1050 50  0001 C CNN "MFG"
F 5 "AP63205WU-7 " H 7900 1050 50  0001 C CNN "PN"
	1    7900 1050
	1    0    0    -1  
$EndComp
$Comp
L 74xx:74LS00 U5
U 5 1 65671A18
P 13950 6700
F 0 "U5" H 13900 6750 50  0000 L CNN
F 1 "74LS00" H 13850 6650 50  0000 L CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 13950 6700 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls00" H 13950 6700 50  0001 C CNN
	5    13950 6700
	1    0    0    -1  
$EndComp
$Comp
L 74xx:74LS02 U11
U 5 1 6468B728
P 14550 6700
F 0 "U11" H 14550 6750 50  0000 L CNN
F 1 "74LS02" H 14450 6650 50  0000 L CNN
F 2 "Package_SO:SO-14_3.9x8.65mm_P1.27mm" H 14550 6700 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74ls02" H 14550 6700 50  0001 C CNN
	5    14550 6700
	1    0    0    -1  
$EndComp
$Comp
L Connector:RJ12 LOCONET_B1
U 1 1 68AA046A
P 1050 2300
F 0 "LOCONET_B1" H 1050 2650 50  0000 C CNN
F 1 "RJ12" H 1000 2200 50  0000 C CNN
F 2 "Connector_RJ:RJ12_Amphenol_54601" V 1050 2325 50  0001 C CNN
F 3 "~" V 1050 2325 50  0001 C CNN
	1    1050 2300
	1    0    0    -1  
$EndComp
$Comp
L Connector:RJ12 LOCONET_B2
U 1 1 658EA7EF
P 1050 3300
F 0 "LOCONET_B2" H 1050 3650 50  0000 C CNN
F 1 "RJ12" H 1000 3200 50  0000 C CNN
F 2 "Connector_RJ:RJ12_Amphenol_54601" V 1050 3325 50  0001 C CNN
F 3 "~" V 1050 3325 50  0001 C CNN
	1    1050 3300
	1    0    0    -1  
$EndComp
$Comp
L Connector:RJ12 LOCONET_T1
U 1 1 6419A2D7
P 1050 7000
F 0 "LOCONET_T1" H 1050 7350 50  0000 C CNN
F 1 "RJ12" H 1050 6900 50  0000 C CNN
F 2 "Connector_RJ:RJ12_Amphenol_54601" V 1050 7025 50  0001 C CNN
F 3 "~" V 1050 7025 50  0001 C CNN
	1    1050 7000
	1    0    0    -1  
$EndComp
$Comp
L Loconet~DCC~Interface~ESP32-rescue:DRV8231A-DRV_Lib U3
U 1 1 64648EAC
P 2700 1700
F 0 "U3" H 2700 1650 50  0000 C CNN
F 1 "DRV8231A" H 2700 1550 50  0000 C CNN
F 2 "Package_SO:Texas_HTSOP-8-1EP_3.9x4.9mm_P1.27mm_EP2.95x4.9mm_Mask2.4x3.1mm_ThermalVias" H 2950 1650 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/drv8871.pdf" H 2950 1650 50  0001 C CNN
	1    2700 1700
	-1   0    0    -1  
$EndComp
$Comp
L Isolator:TLP2770 U4
U 1 1 6534D530
P 2900 3300
F 0 "U4" H 3250 3500 50  0000 L CNN
F 1 "TLP2770" H 3250 3400 50  0000 L CNN
F 2 "Package_SO:SO-6L_10x3.84mm_P1.27mm" H 2900 2800 50  0001 C CNN
F 3 "https://toshiba.semicon-storage.com/info/docget.jsp?did=53548&prodName=TLP2770" H 2900 3300 50  0001 C CNN
	1    2900 3300
	1    0    0    -1  
$EndComp
$Comp
L Espressif:ESP32-S3-WROOM-1 U1
U 1 1 00000000
P 6750 4650
F 0 "U1" H 6836 6350 50  0000 L CNN
F 1 "ESP32-S3-WROOM-1" H 6836 6250 50  0000 L CNN
F 2 "Espressif:ESP32-S3-WROOM-1" H 6850 2750 50  0001 C CNN
F 3 "https://www.espressif.com/sites/default/files/documentation/esp32-s3-wroom-1_wroom-1u_datasheet_en.pdf" H 6850 2650 50  0001 C CNN
	1    6750 4650
	1    0    0    -1  
$EndComp
$EndSCHEMATC
